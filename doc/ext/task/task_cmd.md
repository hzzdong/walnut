---
title:task命令
author:zozoh
tags:
- 系统
- 扩展
- task
---

# task 命令概述

系统提供 *task* 命令，针对下面的场景

1. 用户的 TODO List
2. 机器人自动执行任务（单次或者周期性）
3. 多人协同
4. 工作流
5. OKR 管理
6. 缺陷管理
7. 测试用例管理（配合机器人可以做到自动测试）

*task* 命令的策略是

1. 数据存放在每个用户自己的组
2. 如果需要协同，采用链接的方式
3. 每个任务就是一个文件夹，里面可以存放任务相关的数据
4. 任务的子任务等，是通过元数据逻辑关联的，在树上不体现
5. 因此逻辑上，一个任务可以是多个任务的子
6. *task* 命令将负责对这些数据进行操作

# task 的数据模型

## task 目录结构

```
~/.task                   # 每个组一个专有的 task 目录
    tags                  # 存放所有的可用标签
        紧急               # 标签文件根据元数据可以是普通标签
        注册模块            # 也可以表示一个线程
        第一版上线          # 或者一个里程碑
    mine                  # 存放本组所有的任务
        7ca9..            # 每个任务就是一个目录
            detail.md     # 可以用一份 markdown 文件描述细节
            refers.txt    # 相关的任务ID，一行一个，根据详细描述和注释自动生成
            45c..89.png   # 用户可以上传任何文件作为附件
            comment_20150721132134321.md  # 一个精确到毫秒的时间戳排列任务的注释
        c82e..            # 树上不分层级关系，由任务的元数据来逻辑决定
    others                # 存放其他组所有的任务
        xiaobai           # 存放来自 xiaobai 组所有的任务
            45ca..        # 只能是链接目录
            cdae..        # 里面的里程碑和标签将遵照对方组的设定
```

## task 的元数据

## tag 的元数据

# task 的视图

有几种经典的视图对应 *task* 的不同场景

* 检索视图，*task* 呈列表排列
* 日期视图，在日历上显示相关的 *task*
* 线程视图，为 *task* 设置线程属性，一个任务可以属于多个线程
* 里程碑视图， 为 *task* 设置里程碑属性

*task* 命令会提供根据这几种视图对应的检索参数















