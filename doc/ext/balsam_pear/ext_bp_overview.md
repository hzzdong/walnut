---
title:苦瓜概述
author:zozoh
---


# 苦瓜的组成部分

1. 一个 HTML 的语法约定 `bpml`， 用来制作主题的
2. `cmd_bp` 用来对主题进行各种管理，主要是渲染到 www 目录 
3. 一个 app 用来提供给最终用户使用

# 苦瓜可以涵盖的业务范畴

1. 公司展示网站
2. 论坛
3. 问答社区
3. 个人博客
4. 网上商城
5. 在线 wiki
6. 开源项目下载计数

# 苦瓜的参与角色

1. 平台
2. 设计师: 提供 *bpml* 的主题套件，包括
    - 样式 : css
    - 模板 : templae
    - 小器件 : widget
3. 服务商: 使用 *bpml* 在平台上定制自己的 *www* 服务
4. 用户: 使用客户提供的服务

# 一个苦瓜服务项目的目录结构

```
任何目录
    #---------------------------------------------------------
    theme             # 主题目录
        # 当前的主题，通常为链接目录。当然有能力的人，可以自定义这个主题
        # 可以 copy 自购买了的主题或者来自系统内置的主题
        current
            vars.json           # 定义了当前主题都有哪些可被用户调整的变量
            style               # 主题的样式模板文件
                text.csst       # 每个控件一个样式文件
                pic.csst        # csst 文件支持 ${xxx} 占位符
                makrkdown.csst  # 平台会在渲染的时候统一合并这些模板
            template         # 模板实际上就是预先写好的一些页面文件
                company      # 公司: 首页, 产品, 服务, 联系方式, 招聘信息
                forum        # 论坛: 版面列表, 帖子列表, 帖子
                blog         # 博客: 文章列表, 文章详情
                shop         # 商城: 商品列表, 商品详情, 购物车, 订单, 个人中心
                opensource   # 开源项目: wiki，下载
            widget           # 主题内置的现成小器件
                calendar             # 一个小器件就是一个目录
                    calendar.js      # 可以包含这个小器件的一个 js 文件
                    calendar.bpml    # 同名 bpml 为小器件的 DOM 模板，支持 bpml
                    calendar.csst    # csst 模板
                    i18n             # 为小器件的多国语言目录
        # 根据当前主题的 vars.json 用户定制出的 json 文件
        # 如果用户没有给定这个文件，则采用各个变量的默认值渲染 
        theme.json        # 可以通过这个 JSON 来自定义各个控件的一些变量
                          # 主要是颜色和边距等
    #---------------------------------------------------------
    site.json         # 站点的整体配置信息
    #---------------------------------------------------------
    page              # 存放所有的页面，这个目录结构就是站点地图 
```

* 输出时，会让你指出目标目录，同时将所有的 css 模板压缩到一个 css 文件里
* bpconf.json 主要存放一些整体的策略信息，包括但不限于:
    -  默认的输出目标
    -  输出的策略，是否压缩，是否显示调试信息等
    -  兼容策略，是否兼容 IE6 之类的（厄，先看看吧）



